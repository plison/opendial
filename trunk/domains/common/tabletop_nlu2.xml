<?xml version="1.0" encoding="UTF-8"?>

<model type="update" trigger="a_u^temp">

	<rule id="nlu-plus">
		<case>
			<condition>
				<if var="u_u" value="bit" relation="contains" />
				<if var="a_u^temp" value="Move({X})" />
			</condition>
			<effect>
				<set var="a_u" value="Move({X},Short)" />
			</effect>
		</case>
		<case>
			<condition operator="and">
				<if var="a_u^temp" value="Move({Y})" />
				<or>
					<if var="a_u^temp" value="Move(Left)" />
					<if var="a_u^temp" value="Move(Right)" />
				</or>
				<if var="u_u" value="thirty degrees" relation="contains" />
			</condition>
			<effect>
				<set var="a_u" value="Move({Y},Short)" />
			</effect>
		</case>
		<case>
			<condition>
				<if var="a_u^temp" value="PickUp(*)" />
				<if var="u_u" value="feet" relation="contains" />
			</condition>
			<effect>
				<set var="a_u" value="PickUp(AtFeet)" />
			</effect>
		</case>
		<case>
			<condition>
				<if var="a_u^temp" value="PickUp({D1})" />
				<if var="D1" value="red" relation="contains" />
			</condition>
			<effect>
				<set var="a_u" value="PickUp(RedObj)" />
			</effect>
		</case>
		<case>
			<condition>
				<if var="a_u^temp" value="PickUp({D2})" />
				<or>
					<if var="D2" value="blue" relation="contains" />
					<and>
						<if var="D2" value="it" relation="contains" />
						<or>
							<if var="a_u" value="BlueObj" relation="contains" />
							<if var="a_m" value="BlueObj" relation="contains" />
						</or>
					</and>
					<and>
						<if var="D2" value="the" relation="contains" />
						<if var="perceived" value="BlueObj" relation="contains" />
						<if var="perceived" value="RedObj" relation="notcontains" />
					</and>
				</or>
			</condition>
			<effect>
				<set var="a_u" value="PickUp(BlueObj)" />
			</effect>
		</case>
		<case>
			<condition>
				<if var="a_u^temp" value="PickUp({D21})" />
				<or>
					<if var="D21" value="red" relation="contains" />
					<and>
						<if var="D21" value="it" relation="contains" />
						<or>
							<if var="a_u" value="RedObj" relation="contains" />
							<if var="a_m" value="RedObj" relation="contains" />
						</or>
					</and>
					<and>
						<if var="D21" value="the" relation="contains" />
						<if var="perceived" value="RedObj" relation="contains" />
						<if var="perceived" value="BlueObj" relation="notcontains" />
					</and>
				</or>
			</condition>
			<effect>
				<set var="a_u" value="PickUp(RedObj)" />
			</effect>
		</case>
		<case>
			<condition operator="and">
				<if var="a_u^temp" value="PickUp(*)" />
			</condition>
			<effect>
				<set var="a_u" value="PickUp(Other)" />
			</effect>
		</case>
		<case>
			<condition>
				<if var="a_u^temp" value="DoYouSee({D3})" />
				<if var="D3" value="red" relation="contains" />
			</condition>
			<effect>
				<set var="a_u" value="DoYouSee(RedObj)" />
			</effect>
		</case>
		<case>
			<condition>
				<if var="a_u^temp" value="DoYouSee({D4})" />
				<if var="D4" value="blue" relation="contains" />
			</condition>
			<effect>
				<set var="a_u" value="DoYouSee(BlueObj)" />
			</effect>
		</case>
		<case>
			<condition>
				<if var="a_u^temp" value="DoYouSee({D5})" />
				<if var="D5" value="it" relation="notcontains" />
			</condition>
			<effect>
				<set var="a_u" value="WhatDoYouSee" />
			</effect>
		</case>
		<case>
			<effect>
				<set var="a_u" value="{a_u^temp}" />
			</effect>
		</case>
	</rule>

	<rule>
		<case>
			<effect>
				<clear var="a_u" />
			</effect>
		</case>
	</rule>



</model>
