
\chapter{Domain specifications}
\label{chap:domainspecs}

\section{Experiments in Section \ref{sec:wozlearning-experiments}}
\label{sec:domainspecs-wozlearning}

The dialogue management part of the domain is composed of a total of fifteen utility rules.  The input variables of these rules are the user dialogue act $a_u$, the last system act $a_m$, the last physical movement $\mathit{lastMove}$, the recorded list of movements $\mathit{sequence}$, and a variable $\mathit{silence}$ expressing the amount of time elapsed since the last (user or system) action.  

The variable $a_u$ is encoded in this experiment as a list of one or more dialogue act.  This encoding facilitates the processing of utterances containing more than one dialogue act.  

\begin{small}
\begin{longtable}{p{1cm}l} 
$r_{1}: \ \ $ &  $\forall x : $ \\ & $\textbf{if} \ (\mathit{silence}\!>\!\mathit{3} \land \mathit{a_m}\!=\!\mathit{Demonstrate}(x)) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{AskConfirmation})\!=\!\theta_{\mathrm{confirmation3}}\end{cases}$ \\ 
& $\textbf{else if} \ (\mathit{silence}\!>\!\mathit{2} \land \mathit{a_m}\!=\!\mathit{Demonstrate}(x)) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{AskConfirmation})\!=\!\theta_{\mathrm{confirmation2}}\end{cases}$ \\ 
& $\textbf{else if} \ (\mathit{silence}\!>\!\mathit{1} \land \mathit{a_m}\!=\!\mathit{Demonstrate}(x)) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{AskConfirmation})\!=\!\theta_{\mathrm{confirmation1}}\end{cases}$ \\ \\[-2mm]
$r_{2}: \ \ $ & $\textbf{if} \ (\mathit{Confirm}\!\in\!\mathit{a_u} \land \mathit{lastMove}\!\neq\!\mathit{None}) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{Register})\!=\!\theta_{\mathrm{registerExplicit}}\end{cases}$\\ 
& $\textbf{else}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{Register})\!=\!\theta_{\mathrm{registerExplicitNeg}}\end{cases}$ \\[3mm]\\[-2mm]
$r_{3}: \ \ $& $\textbf{if} \ (\mathit{Disconfirm}\!\in\!\mathit{a_u} \land \mathit{None}\!\neq\!\mathit{lastMove}) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{Undo})\!=\!\theta_{\mathrm{undo}}\end{cases}$ \\ 
& $\textbf{else}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{Undo})\!=\!\theta_{\mathrm{undoNeg}}\end{cases}$ \\ \\[-2mm]
$r_{4}: \ \ $& $\textbf{if} \ (\mathit{a_u}\!\neq\!\mathit{None} \land \mathit{lastMove}\!\notin\!\mathit{a_u} \land \mathit{Confirm}\!\notin\!\mathit{a_u} $ \\ & $ \ \ \ \ \   \land \mathit{Disconfirm}\!\notin\!\mathit{a_u} \land \mathit{lastMove}\!\notin\mathit{None}) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{Register})\!=\!\theta_{\mathrm{registerImplicit}}\end{cases}$ \\ 
& $\textbf{else}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{Register})\!=\!\theta_{\mathrm{registerImplicitNeg}}\end{cases}$ \\ \\[-2mm]
$r_{5}: \ \ $ & $\forall x,y,z: $\\
&$\textbf{if} \ (a_u\!=\!x \land \mathit{lastMove}\!\notin\!\mathit{a_u} \land (\mathit{MoveArm}(y,z)\!\in\!\mathit{a_u} $ \\ & $ \ \ \ \ \  \lor \mathit{MoveHead}(y)\!\in\!\mathit{a_u} \lor \mathit{Kneel}\!\in\!\mathit{a_u} \lor \mathit{MoveFoot}(x,y)\!\in\!\mathit{a_u} $ \\ & $ \ \ \ \ \  \lor \mathit{StandUp}\!\in\!\mathit{a_u} \lor \mathit{SitDown}\!\in\!\mathit{a_u} \lor \mathit{Turn}(y)\!\in\!\mathit{a_u})) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{Demonstrate(x)})\!=\!\theta_{\mathrm{Demonstrate}}\end{cases}$\\ 
& $\textbf{else}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{Demonstrate(x)})\!=\!\theta_{\mathrm{DemonstrateNeg}}\end{cases}$ \\ \\[-2mm]
$r_{6}: $\ \ & $\textbf{if} \ (\mathit{a_m}\!\neq\!\mathit{AskRepeat}) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{AskRepeat})\!=\!\theta_{\mathrm{repeatFirst}}\end{cases}$ \\ & \textbf{else} \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{AskRepeat})\!=\!\theta_{\mathrm{repeatSecond}}\end{cases}$ \\ \\[-2mm]
$r_{7}: \ \ $& $\textbf{if} \ (\mathit{Confirm}\!\in\!\mathit{a_u} \land \mathit{|a_u|}\!=\!\mathit{1}) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{Ack})\!=\!\theta_{\mathrm{ack}}\end{cases}$ \\ 
& $\textbf{else}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{Ack})\!=\!\theta_{\mathrm{ackNeg}}\end{cases}$ \\ \\[-2mm]
$r_{8}: \ \ $& $\textbf{if} \ (\mathit{Disconfirm}\!\in\!\mathit{a_u} \land \mathit{|a_u|}\!=\!\mathit{1}) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{AskIntention})\!=\!\theta_{\mathrm{askIntention}}\end{cases}$ \\ 
& $\textbf{else}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{AskIntention})\!=\!\theta_{\mathrm{askIntentionNeg}}\end{cases}$\\ \\[-2mm]
$r_{9}: \ \ $& $\textbf{if} \ (\mathit{RepeatAll}\!\in\!\mathit{a_u} \land \mathit{sequence}\!\neq\!\mathit{None}) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{DemonstrateAll})\!=\!\theta_{\mathrm{demonstrateAll}}\end{cases}$\\ \\[-2mm]
$r_{10}: \ \ $& $\textbf{if} \ (\mathit{ForgetAll}\!\in\!\mathit{a_u} \land \mathit{sequence}\!\neq\!\mathit{None}) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{ForgetAll})\!=\!\theta_{\mathrm{forgetAll}}\end{cases}$ \\ \\[-2mm]
$r_{11}: \ \ $& $\textbf{if} \ (\mathit{Compliment}\!\in\!\mathit{a_u} \land \mathit{a_m}\!=\!\mathit{DemonstrateAll}) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{SayThankYou})\!=\!\theta_{\mathrm{sayThankYou}}\end{cases}$ \\ \\[-2mm]
$r_{12}: \ \ $& $\textbf{if} \ (\mathit{FollowMe}\!\in\!\mathit{a_u}) \ \textbf{then}$ \\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{FollowMe})\!=\!\theta_{\mathrm{followMe}}\end{cases}$ \\[3mm]  \\[-2mm]
$r_{13}: \ \ $& $\textbf{if} \ (\mathit{Stop}\!\in\!\mathit{a_u}) \ \textbf{then} $\\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{Stop})\!=\!\theta_{\mathrm{stop}}\end{cases} $\\[3mm]  \\[-2mm]
$r_{14}: \ \ $&$ \textbf{if} \ (\mathit{SayHello}\!\in\!\mathit{a_u}) \ \textbf{then} $\\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{SayHello})\!=\!\theta_{\mathrm{sayHello}}\end{cases}$ \\[3mm]  \\[-2mm]
$r_{15}: \ \ $&$ \textbf{if} \ (\mathit{SayGoodbye}\!\in\!\mathit{a_u}) \ \textbf{then} $\\
& $\;\;\;\;\; \begin{cases}U(\mathit{a_m}\!=\!\mathit{SayGoodbye})\!=\!\theta_{\mathrm{sayGoodbye}}\end{cases}$   \\[3mm] 
\end{longtable}
\end{small}

\section{Experiments in Section \ref{sec:rllearning-experiments}}
\label{sec:domainspecs-rrlearning}

\subsubsection*{First experiment}

The six rules below specify the transition model used in the first experiment of Section \ref{sec:rllearning-experiments}. The first rule expresses the probability of the current task being completed after the last system action. If the task is completed, the user intention is reinitialised with a prior distribution given by rules $r_3$, $r_4$ and $r_5$. The user action model based on this user intention is then represented by rule $r_6$.
 
\begin{small}
\begin{longtable}{p{1cm}p{14cm}}
$r_{1}$: \ \ & $\forall \ X \ :$ \\ & $ \textbf{if} \ (\mathit{a_m}\!=\!\mathit{Do({X})} \land \mathit{i_u}\!=\!\mathit{{X}}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}P(\mathit{completed\mbox{-}task}\!=\!\mathit{true})\!=\!1.0 \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Excuse(\cdot)}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{completed\mbox{-}task}\!=\!\mathit{true})\!=\!1.0 \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{ConfirmDetection} \land \mathit{i_u}\!=\!\mathit{DoYouSee(\cdot)}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{completed\mbox{-}task}\!=\!\mathit{true})\!=\!1.0 \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{DisconfirmDetection} \land \mathit{i_u}\!=\!\mathit{DoYouSee(\cdot)}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{completed\mbox{-}task}\!=\!\mathit{true})\!=\!1.0 \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Describe(\cdot)} \land \mathit{i_u}\!=\!\mathit{WhatDoYouSee}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{completed\mbox{-}task}\!=\!\mathit{true})\!=\!1.0 \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Do(\cdot)} \lor \mathit{a_m}\!=\!\mathit{Excuse(\cdot)} \lor \mathit{a_m}\!=\!\mathit{Describe(\cdot)} $ \\ & \ \ \ \ \ \ \ \ \ \ \ $\lor \mathit{a_m}\!=\!\mathit{DisconfirmDetection} \lor \mathit{a_m}\!=\!\mathit{ConfirmDetection}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{completed\mbox{-}task}\!=\!\mathit{true})\!=\!\theta_{\mathrm{1[0]}} \\
P(\mathit{completed\mbox{-}task}\!=\!\mathit{false})\!=\!\theta_{\mathrm{1[1]}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{i_u}\!=\!\mathit{None}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{completed\mbox{-}task}\!=\!\mathit{true})\!=\!1.0 \end{cases}$\\ & $ \textbf{else}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{completed\mbox{-}task}\!=\!\mathit{false})\!=\!1.0 \end{cases}$ \\ \\[-2mm]
$r_{2}$: \ \ & $ \textbf{if} \ (\mathit{completed\mbox{-}task}\!=\!\mathit{false}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}P(\mathit{i_u}\!=\!\mathit{{i_u}})\!=\!1 \end{cases}$ \\ \\[-2mm]
$r_{3}$: \ \ & $ \textbf{if} \ (\mathit{completed\mbox{-}task}\!=\!\mathit{true}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}P(\mathit{i_u}\!=\!\mathit{Move(Left)})\!=\!\theta_{\mathrm{1[0]}} \\
P(\mathit{i_u}\!=\!\mathit{Move(Forward)})\!=\!\theta_{\mathrm{2[1]}} \\
P(\mathit{i_u}\!=\!\mathit{Move(Backward)})\!=\!\theta_{\mathrm{2[2]}} \\
P(\mathit{i_u}\!=\!\mathit{Move(Right)})\!=\!\theta_{\mathrm{2[3]}} \\
P(\mathit{i_u}\!=\!\mathit{DoYouSee(object_1)})\!=\!\theta_{\mathrm{2[4]}} \\
P(\mathit{i_u}\!=\!\mathit{DoYouSee(object_2)})\!=\!\theta_{\mathrm{2[5]}} \\
P(\mathit{i_u}\!=\!\mathit{WhatDoYouSee})\!=\!\theta_{\mathrm{2[6]}} \\
P(\cdot)\!=\!\theta_{\mathrm{2[7]}} \end{cases}$ \\ \\[-2mm]
$r_{4}$: \ \ & $\forall \ O: $ \\ & $ \textbf{if} \ (\mathit{completed\mbox{-}task}\!=\!\mathit{true} \land \mathit{O}\!\in\!\mathit{carried}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}P(\mathit{i_u}\!=\!\mathit{Release(O)})\!=\!\theta_{\mathrm{3[0]}} \\
P(\cdot)\!=\!\theta_{\mathrm{3[1]}} \end{cases}$ \\ & $ \textbf{else if} \ (\mathit{completed\mbox{-}task}\!=\!\mathit{true}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{i_u}\!=\!\mathit{Release(O)})\!=\!\theta_{\mathrm{4[0]}} \\
P(\cdot)\!=\!\theta_{\mathrm{4[1]}} \end{cases}$ \\ \\[-2mm]
$r_{5}$: \ \ & $\forall \ O: $ \\ & $ \textbf{if} \ (\mathit{completed\mbox{-}task}\!=\!\mathit{true} \land \mathit{carried}\!=\!\mathit{[]}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}P(\mathit{i_u}\!=\!\mathit{PickUp(O)})\!=\!\theta_{\mathrm{5[0]}} \\
P(\cdot)\!=\!\theta_{\mathrm{5[1]}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{completed\mbox{-}task}\!=\!\mathit{true}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{i_u}\!=\!\mathit{PickUp(O)})\!=\!\theta_{\mathrm{6[0]}} \\
P(\cdot)\!=\!\theta_{\mathrm{6[1]}} \end{cases}$ \\ \\[-2mm]
$r_{6}$: \ \ & $\forall \ X: $ \\ & $\textbf{if} \ (\mathit{a_m}\!=\!\mathit{Ground({X})} \land \mathit{i_u}\!=\!\mathit{{X}}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}P(\mathit{a_u^p}\!=\!\mathit{Confirm})\!=\!\theta_{\mathrm{7[0]}} \\
P(\mathit{a_u^p}\!=\!\mathit{Nothing})\!=\!\theta_{\mathrm{7[1]}} \\
P(\cdot)\!=\!\theta_{\mathrm{7[2]}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Ground({X})} \land \mathit{i_u}\!\neq\!\mathit{{X}} \land \mathit{i_u}\!\neq\!\mathit{None}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{a_u^p}\!=\!\mathit{Disconfirm})\!=\!\theta_{\mathrm{8[0]}} \\
P(\mathit{a_u^p}\!=\!\mathit{Ask({i_u})})\!=\!\theta_{\mathrm{8[1]}} \\
P(\mathit{a_u^p}\!=\!\mathit{Nothing})\!=\!\theta_{\mathrm{8[2]}} \\
P(\cdot)\!=\!\theta_{\mathrm{8[3]}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Confirm({X})} \land \mathit{i_u}\!=\!\mathit{{X}}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{a_u^p}\!=\!\mathit{Confirm})\!=\!\theta_{\mathrm{9[0]}} \\
P(\mathit{a_u^p}\!=\!\mathit{Ask({i_u})})\!=\!\theta_{\mathrm{9[1]}} \\
P(\mathit{a_u^p}\!=\!\mathit{Nothing})\!=\!\theta_{\mathrm{9[2]}} \\
P(\cdot)\!=\!\theta_{\mathrm{9[3]}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Confirm({X})} \land \mathit{i_u}\!\neq\!\mathit{{X}} \land \mathit{i_u}\!\neq\!\mathit{None}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{a_u^p}\!=\!\mathit{Disconfirm})\!=\!\theta_{\mathrm{10[0]}} \\
P(\mathit{a_u^p}\!=\!\mathit{Nothing})\!=\!\theta_{\mathrm{10[1]}} \\
P(\cdot)\!=\!\theta_{\mathrm{10[2]}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Do({X})} \land \mathit{i_u}\!=\!\mathit{{X}}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{a_u^p}\!=\!\mathit{RepeatLast})\!=\!\theta_{\mathrm{11[0]}} \\
P(\mathit{a_u^p}\!=\!\mathit{Ask({i_u})})\!=\!\theta_{\mathrm{11[1]}} \\
P(\mathit{a_u^p}\!=\!\mathit{Nothing})\!=\!\theta_{\mathrm{11[2]}} \\
P(\cdot)\!=\!\theta_{\mathrm{11[3]}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{AskRepeat} \lor \mathit{completed\mbox{-}task}\!=\!\mathit{true}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{a_u^p}\!=\!\mathit{Ask({i_u})})\!=\!\theta_{\mathrm{12[0]}} \\
P(\mathit{a_u^p}\!=\!\mathit{Nothing})\!=\!\theta_{\mathrm{12[1]}} \\
P(\cdot)\!=\!\theta_{\mathrm{12[2]}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{i_u}\!=\!\mathit{None}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{a_u^p}\!=\!\mathit{Nothing})\!=\!1.0 \end{cases}$\\ & $ \textbf{else}$ \\
& \;\;\;\;\; $ \begin{cases}P(\mathit{a_u^p}\!=\!\mathit{Ask({i_u})})\!=\!\theta_{\mathrm{13[0]}} \\
P(\mathit{a_u^p}\!=\!\mathit{Nothing})\!=\!\theta_{\mathrm{13[1]}} \\
P(\cdot)\!=\!\theta_{\mathrm{13[2]}} \end{cases}$ 
%$r_{7}$: \ \ & $ \textbf{if} \ (\mathit{a_u^p}\!\neq\!\mathit{None}) \ \textbf{then} $ \\
% & \;\;\;\;\; $ \begin{cases}P(\mathit{a_u^p}\!=\!\mathit{a_u^p})\!=\!%\theta_{\mathrm{14[0]}} \\ 
% P(\cdot)\!=\!\theta_{\mathrm{14[1]}} \end{cases}$ 
\end{longtable}
\end{small}

\subsubsection*{Second experiment}

Two rule-structured model are compared to one another in the second experiment: a transition model for the model-based approach, and an action-value model for the model-free approach. The transition model is identical to the one shown above and will not be repeated here.  The action-value model is specified with a set of 11 rules.  The input variables of these rules are the last user dialogue act $a_u$, the user dialogue act preceding it $a_{u\mbox{-}prev}$, the last system act $a_m$, and the two contextual variables $\mathit{perceived}$ and $\mathit{carried}$. 

\begin{small}
\begin{longtable}{p{1cm}p{14cm}}
$r_{1}$: \ \ & $\forall \ X \ :$ \\ & $ \textbf{if} \ (\mathit{a_u}\!=\!\mathit{Move(\cdot)}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Do({a_u})})\!=\!\theta_{\mathrm{movements1}} \\
U(\mathit{a_m}\!=\!\mathit{Ground({a_u})})\!=\!\theta_{\mathrm{movements2}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{Confirm} \land \mathit{a_{u\mbox{-}prev}}\!=\!\mathit{Move(\cdot)}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Do({a_{u\mbox{-}prev}})})\!=\!\theta_{\mathrm{movements1}} \\
U(\mathit{a_m}\!=\!\mathit{Ground({a_{u\mbox{-}prev}})})\!=\!\theta_{\mathrm{movements2}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Ground(Move({X}))} \land \mathit{a_u}\!\neq\!\mathit{Disconfirm}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Do(Move({X}))})\!=\!\theta_{\mathrm{movements1}} \end{cases}$ \\ \\[-2mm]
$r_{2}$: \ \ & $\forall \ X \ : $ \\ &  $\textbf{if} \ (\mathit{a_u}\!=\!\mathit{PickUp({X})} \land \mathit{{X}}\!\in\!\mathit{perceived} \land \mathit{carried}\!=\!\mathit{[]}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Do({a_u})})\!=\!\theta_{\mathrm{pickup1}} \\
U(\mathit{a_m}\!=\!\mathit{Ground({a_u})})\!=\!\theta_{\mathrm{pickup2}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{PickUp({X})} \land \mathit{{X}}\!\in\!\mathit{perceived} \land \mathit{carried}\!\neq\!\mathit{[]}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Excuse(AlreadyCarryObject)})\!=\!\theta_{\mathrm{pickup3}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{PickUp({X})} \land \mathit{{X}}\!\notin\!\mathit{perceived}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Excuse(DoNotSeeObject)})\!=\!\theta_{\mathrm{pickup4}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{Confirm} \land \mathit{a_{u\mbox{-}prev}}\!=\!\mathit{PickUp({X})} \land \mathit{{X}}\!\in\!\mathit{perceived} \land \mathit{carried}\!=\!\mathit{[]}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Do({a_{u\mbox{-}prev}})})\!=\!\theta_{\mathrm{pickup1}} \\
U(\mathit{a_m}\!=\!\mathit{Ground({a_{u\mbox{-}prev}})})\!=\!\theta_{\mathrm{pickup2}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{Confirm} \land \mathit{a_{u\mbox{-}prev}}\!=\!\mathit{PickUp({X})} \land \mathit{{X}}\!\in\!\mathit{perceived} \land \mathit{carried}\!\neq\!\mathit{[]}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Excuse(AlreadyCarryObject)})\!=\!\theta_{\mathrm{pickup3}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{Confirm} \land \mathit{a_{u\mbox{-}prev}}\!=\!\mathit{PickUp({X})} \land \mathit{{X}}\!\notin\!\mathit{perceived}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Excuse(DoNotSeeObject)})\!=\!\theta_{\mathrm{pickup4}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Ground(PickUp{X})} \land \mathit{a_u}\!\neq\!\mathit{Disconfirm} \land \mathit{{X}}\!\in\!\mathit{perceived} \land \mathit{carried}\!=\!\mathit{[]}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Do(PickUp({X}))})\!=\!\theta_{\mathrm{pickup1}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Ground(PickUp({X}))} \land \mathit{a_u}\!\neq\!\mathit{Disconfirm} \land \mathit{{X}}\!\in\!\mathit{perceived} \land \mathit{carried}\!\neq\!\mathit{[]}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Excuse(AlreadyCarryObject)})\!=\!\theta_{\mathrm{pickup3}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Ground(PickUp({X}))} \land \mathit{a_u}\!\neq\!\mathit{Disconfirm} \land \mathit{{X}}\!\notin\!\mathit{perceived}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Excuse(DoNotSeeObject)})\!=\!\theta_{\mathrm{pickup4}} \end{cases}$ \\ \\[-2mm]
$r_{3}$: \ \ & $\forall \ X \ : $ \\ & $ \textbf{if} \ (\mathit{a_u}\!=\!\mathit{Release({X})} \land \mathit{{X}}\!\in\!\mathit{carried}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Do({a_u})})\!=\!\theta_{\mathrm{release1}} \\
U(\mathit{a_m}\!=\!\mathit{Ground({a_u})})\!=\!\theta_{\mathrm{release2}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{Release({X})} \land \mathit{{X}}\!\notin\!\mathit{carried}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Excuse(DoNotCarryObject)})\!=\!\theta_{\mathrm{release3}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{Confirm} \land \mathit{a_{u\mbox{-}prev}}\!=\!\mathit{Release({X})} \land \mathit{{X}}\!\in\!\mathit{carried}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Do({a_{u\mbox{-}prev}})})\!=\!\theta_{\mathrm{release1}} \\
U(\mathit{a_m}\!=\!\mathit{Ground({a_{u\mbox{-}prev}})})\!=\!\theta_{\mathrm{release2}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{Confirm} \land \mathit{a_{u\mbox{-}prev}}\!=\!\mathit{Release({X})} \land \mathit{{X}}\!\notin\!\mathit{carried}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Excuse(DoNotCarryObject)})\!=\!\theta_{\mathrm{release3}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Ground(Release({X}))} \land \mathit{a_u}\!\neq\!\mathit{Disconfirm} \land \mathit{{X}}\!\in\!\mathit{carried}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Do({a_u})})\!=\!\theta_{\mathrm{release1}} \\
U(\mathit{a_m}\!=\!\mathit{Ground({a_u})})\!=\!\theta_{\mathrm{release2}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_m}\!=\!\mathit{Ground(Release({X}))} \land \mathit{a_u}\!\neq\!\mathit{Disconfirm} \land \mathit{{X}}\!\notin\!\mathit{carried}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Excuse(DoNotCarryObject)})\!=\!\theta_{\mathrm{release3}} \end{cases}$ \\ \\[-2mm]
$r_{4}$: \ \ & $ \textbf{if} \ (\mathit{a_u}\!\neq\!\mathit{None}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{None})\!=\!\theta_{\mathrm{none}} \end{cases}$\\ & $ \textbf{else}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{None})\!=\!\theta_{\mathrm{none2}} \end{cases}$ \\ \\[-2mm]
$r_{5}$: \ \ & $ \textbf{if} \ (\mathit{a_u}\!\neq\!\mathit{Confirm} \land \mathit{a_u}\!\neq\!\mathit{RepeatLast} \land \mathit{a_m}\!\neq\!\mathit{Ground(\cdot)}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Do(\cdot)} \land \mathit{a_m}\!\neq\!\mathit{Do({a_u})})\!=\!\theta_{\mathrm{wrong1}} \\
U(\mathit{a_m}\!=\!\mathit{Ground(\cdot)} \land \mathit{a_m}\!\neq\!\mathit{Ground({a_u})})\!=\!\theta_{\mathrm{wrong2}} \\
U(\mathit{a_m}\!=\!\mathit{Excuse(\cdot)})\!=\!\theta_{\mathrm{wrong3}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{Confirm}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Do(\cdot)} \land \mathit{a_m}\!\neq\!\mathit{Do({a_{u\mbox{-}prev}})})\!=\!\theta_{\mathrm{wrong1}} \\
U(\mathit{a_m}\!=\!\mathit{Ground(\cdot)} \land \mathit{a_m}\!\neq\!\mathit{Ground({a_{u\mbox{-}prev}})})\!=\!\theta_{\mathrm{wrong2}} \\
U(\mathit{a_m}\!=\!\mathit{Excuse(\cdot)})\!=\!\theta_{\mathrm{wrong3}} \end{cases}$ \\ \\[-2mm]
$r_{6}$: \ \ & $ \textbf{if} \ (\mathit{a_m}\!\neq\!\mathit{AskRepeat}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{AskRepeat})\!=\!\theta_{\mathrm{repeat}} \end{cases}$ \\ \\[-2mm]
$r_{7}$: \ \ & $ \textbf{if} \ (\mathit{a_u}\!=\!\mathit{Disconfirm}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{AskRepeat})\!=\!\theta_{\mathrm{repeat2}} \end{cases}$ \\ \\[-2mm]
$r_{8}$: \ \ & $ \textbf{if} \ (\mathit{true}) \ \textbf{then}$ \\ & \;\;\;\;\; $\begin{cases}U(\mathit{a_m}\!=\!\mathit{Confirm({a_u})})\!=\!\theta_{\mathrm{confirm1}} \\
U(\mathit{a_m}\!=\!\mathit{Confirm(\cdot)} \land \mathit{a_m}\!\neq\!\mathit{Confirm({a_u})})\!=\!\theta_{\mathrm{confirm2}} \end{cases}$ \\ \\[-2mm]
$r_{9}$: \ \ & $\forall \ X \ : $ \\ & $ \textbf{if} \ (\mathit{a_u}\!=\!\mathit{DoYouSee({X})} \land \mathit{{X}}\!\in\!\mathit{perceived}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Confirm})\!=\!\theta_{\mathrm{doyousee1}} \\
U(\mathit{a_m}\!=\!\mathit{Disconfirm})\!=\!\theta_{\mathrm{doyousee2}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{DoYouSee({X})} \land \mathit{{X}}\!\notin\!\mathit{perceived}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Disconfirm})\!=\!\theta_{\mathrm{doyousee3}} \\
U(\mathit{a_m}\!=\!\mathit{Confirm})\!=\!\theta_{\mathrm{doyousee4}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{Confirm} \land \mathit{a_{u\mbox{-}prev}}\!=\!\mathit{DoYouSee({X})} \land \mathit{{X}}\!\in\!\mathit{perceived}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Confirm})\!=\!\theta_{\mathrm{doyousee1}} \\
U(\mathit{a_m}\!=\!\mathit{Disconfirm})\!=\!\theta_{\mathrm{doyousee2}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{Confirm} \land \mathit{a_{u\mbox{-}prev}}\!=\!\mathit{DoYouSee({X})} \land \mathit{{X}}\!\notin\!\mathit{perceived}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Disconfirm})\!=\!\theta_{\mathrm{doyousee3}} \\
U(\mathit{a_m}\!=\!\mathit{Confirm})\!=\!\theta_{\mathrm{doyousee4}} \end{cases}$\\ & $ \textbf{else}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Confirm})\!=\!\theta_{\mathrm{doyousee5}} \\
U(\mathit{a_m}\!=\!\mathit{Disconfirm})\!=\!\theta_{\mathrm{doyousee6}} \end{cases}$ \\ \\[-2mm]
$r_{10}$: \ \ & $ \textbf{if} \ (\mathit{a_u}\!=\!\mathit{WhatDoYouSee}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Describe({perceived})})\!=\!\theta_{\mathrm{whatdoyousee1}} \end{cases}$\\ & $ \textbf{else if} \ (\mathit{a_u}\!=\!\mathit{Confirm} \land \mathit{a_{u\mbox{-}prev}}\!=\!\mathit{WhatDoYouSee}) \ \textbf{then}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Describe({perceived})})\!=\!\theta_{\mathrm{whatdoyousee1}} \end{cases}$\\ & $ \textbf{else}$ \\
& \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{Describe(\cdot)})\!=\!\theta_{\mathrm{whatdoyousee2}} \end{cases}$ \\ \\[-2mm]
$r_{11}$: \ \ & $ \textbf{if} \ (\mathit{a_u}\!=\!\mathit{RepeatLast}) \ \textbf{then} $ \\
 & \;\;\;\;\; $ \begin{cases}U(\mathit{a_m}\!=\!\mathit{{a_m}})\!=\!\theta_{\mathrm{repeatLast}} \end{cases}$ \\ \\[-2mm]
\end{longtable}
\end{small}

\section{Experiments in Chapter \ref{chap:user-evaluation}}

\note{put here a summary of the probabilistic rules applied in the last experiment (user evaluation)}

