\chapter{Probabilistic Rules}
\label{chap:rules}

This chapter spells out the dialogue modelling approach developed in this thesis.  The previous chapter demonstrated how graphical models can help reduce the complexity of probability and utility models by exploiting independence properties between variables. We argued that factorised representations offered a number of theoretical and practical advantages for various learning and inference tasks. But despite these attractive properties, graphical models do also unfortunately suffer from scalability problems when faced with complex dialogue domains.  Conditional dependencies between variables can lead to an rapid increase in the number of distributions included in the model. Alas, only limited amounts of training data are available for most dialogue domains.  Estimating the model distributions in such setting is therefore a challenging task. 

To address this issue, we introduce in this chapter the notion of \textit{probabilistic rules}, which are structured mappings between conditions and  (parametrised) effects.  These rules function as \textit{high-level templates} for the construction of the dynamic decision network.  The key advantage of such structured modelling approach is the drastic reduction of the number of parameters compared to traditional representations.  We also argue that these expressive representations are particularly well suited to encode the probability and utility models used in dialogue management, where substantial amounts of expert knowledge can be exploited to structure the relationships between variables. 

The chapter is divided in five sections: Section \ref{sec:prules} describes in detail how probabilistic rules are defined in terms of conditions and effects and provide some concrete examples of rules for dialogue management.  Section \ref{sec:ruleinstantiation} connects these definitions to the graphical models described in the previous chapter by showing how probabilistic rules are practically instantiated into a graphical model.  Finally, Section \ref{sec:amodelling} addresses some advanced modelling issues and Section \ref{sec:relatedwork} relates the approach to previous work.

\section{Definitions}
\label{sec:prules}

\subsection{General motivation}

Our starting point is the observation that the probability and utility models used in dialogue management usually contain quite a lot of \textit{internal structure} that can be readily exploited to yield more compact distributions. 
  

For instance, we can see in Figure \ref{fig1} that the probability $P(a_u=\mathsf{NULL}|i_u)$ does not actually depend on the specific value of $i_u$.  Similarly, the reward $Q(a_m=\mathsf{AskRepeat},i_u)$ does not depend on $i_u$ either, since it is equal to $-0.5$ for all possible values of $i_u$. Generally speaking, we can often group the enumeration of possible values for the dependent variables into a set of distinct, mutually exclusive \textit{partitions} that yield similar outcomes.  
 
\subsection{Conditions}

\subsection{Effects}

\subsection{Parameters}

\subsection{Rule types}

\subsection{Examples}

\section{Rule instantiation}
\label{sec:ruleinstantiation}

\subsection{Dialogue state}

\note{Our approach is based on information state}

\subsection{Instantiation algorithm}

\subsection{Pruning mechanisms}

\section{Advanced modelling}
\label{sec:amodelling}

\subsection{Strings, numbers and collections}

\subsection{Quantifiers}

\section{Related work}
\label{sec:relatedwork}

\note{Heriberto's relational state: \cite{pub5502} an hierarchical aproach \citep{Heriberto2011}}. 

\section{Conclusion}

